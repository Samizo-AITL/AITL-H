# デバイス実装要件（SkyEdge 高高度版）

本章は、**制御応答を実現するために必要なデバイス側の定量要件**を示す。制御周期・遅延・センサノイズ・電源安定性などを明文化する。

## 1. 制御用SoC / ファームウェア
- 制御周期: **1.0 ms 以下**（優先: 0.5 ms）
- 演算遅延（I/O→演算→PWM反映）: **≤ 200 µs**
- 浮動小数点: 単精度FPU（H∞演算はオフライン、実行時は状態空間更新）
- メモリ保護: MPU + セキュアブート（TPMバインド）
- OTA更新: デルタ更新 + ロールバック

## 2. IMU / センサ
- IMUサンプリング: **1 kHz 以上**、DLPF可変（カット 92/184 Hz）
- ジャイロノイズ密度: **≤ 0.005 °/s/√Hz**
- 加速度ノイズ密度: **≤ 100 µg/√Hz**
- バイアス不安定性（ジャイロ）: **≤ 5 °/h**
- 冗長: デュアルIMU、温度クロス校正

## 3. GNSS / RTK
- デュアルバンド L1/L2、更新 **≥ 10 Hz**
- RTK測位: 水平 1–2 cm（基準局/ネットワークRTK時）
- ジャミング検出: CN0監視、アンテナダイバーシティ

## 4. ESC / モータ駆動
- PWM周波数: **≥ 32 kHz**（可聴帯域外、応答高速）
- スルーレート（電流指令→トルク）: **≤ 100 µs** 相当
- 電流計測: シャント/ホール、1 kHz 以上
- 通信: CAN/FDCAN（1 Mbit/s+）、エラーハンドリング

## 5. 通信 / セキュリティ
- データリンク: 5G(Sub6) + LPWA + 衛星（HA）冗長
- 暗号: AES-GCM, ECC, PQC（鍵保管はTPM/SE）
- セキュアブート: 署名検証 + バージョン固定

## 6. 電源 / 環境
- バッテリ: デュアル（ホットスワップ）
- 低温運用: **-30〜-50℃** で容量維持のためPTCヒータ制御
- 電源ノイズ: デジタル系リップル **< 50 mVpp**（1–10 MHz帯）
