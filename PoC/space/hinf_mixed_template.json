{
  "schema": "aitl-h/robust_core/hinf_mixed/v1",
  "meta": {
    "title": "Robust Core (H\u221e Mixed-Sensitivity) \u2014 Template",
    "created": "2025-09-12",
    "author": "Shinichi Samizo",
    "notes": "Fill plant (A,B,C,D,E), then run synthesis to populate K,L,gamma. Units: SI; angles in rad."
  },
  "Ts": 0.002,
  "signals": {
    "state_names": [
      "thx",
      "thy",
      "thz",
      "wx",
      "wy",
      "wz",
      "vbus",
      "ibat",
      "Tchip",
      "Tpkg",
      "Trad"
    ],
    "input_names": [
      "tax",
      "tay",
      "taz",
      "ipv",
      "iload",
      "Pchip",
      "Qrad"
    ],
    "output_names": [
      "thx",
      "thy",
      "thz",
      "vbus",
      "Tchip"
    ]
  },
  "plant": {
    "nx": 11,
    "nu": 7,
    "ny": 5,
    "A": [
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    ],
    "B": [
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    ],
    "C": [
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    ],
    "D": [
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    ],
    "E": [
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    ],
    "discrete": true,
    "description": "Minimal 11D plant: attitude(6)+power(2)+thermal(3). Replace with identified/discretized matrices."
  },
  "weights": {
    "form": "mixed_sensitivity",
    "W1": {
      "type": "tf",
      "domain": "s",
      "num": [
        1.0,
        0.0
      ],
      "den": [
        0.5,
        1.0
      ],
      "gain": 5.0,
      "io": {
        "ny": 5,
        "notes": "Apply per-output; scalar tf replicated."
      }
    },
    "W2": {
      "type": "tf",
      "domain": "s",
      "num": [
        0.05,
        1.0
      ],
      "den": [
        1.0
      ],
      "gain": 0.1,
      "io": {
        "nu": 7,
        "notes": "Per-input penalty; tune to actuator limits."
      }
    },
    "W3": {
      "type": "tf",
      "domain": "s",
      "num": [
        1.0
      ],
      "den": [
        0.01,
        1.0
      ],
      "gain": 0.5,
      "io": {
        "ny": 5,
        "notes": "Sensor noise/robust roll-off shaping."
      }
    }
  },
  "uncertainty": {
    "type": "multiplicative_output",
    "bound": 0.2,
    "notes": "Use for robust verification; not used directly by H\u221e synthesis."
  },
  "constraints": {
    "actuator": {
      "u_min": [
        -0.2,
        -0.2,
        -0.2,
        -5.0,
        -5.0,
        0.0,
        0.0
      ],
      "u_max": [
        0.2,
        0.2,
        0.2,
        5.0,
        5.0,
        5.0,
        5.0
      ],
      "du_max_perTs": [
        0.02,
        0.02,
        0.02,
        0.5,
        0.5,
        0.5,
        0.5
      ]
    },
    "outputs": {
      "y_limits": {
        "thx_thy_thz_deg": 5.0,
        "vbus_ripple_Vpp": 0.05,
        "Tchip_max_C": 110.0
      }
    }
  },
  "synthesis": {
    "controller_form": "output_feedback",
    "structure": "full",
    "gamma_target": 1.5,
    "solver": "hinfsyn",
    "notes": "Run continuous tf weighting with bilinear (Tustin) or exact discretization."
  },
  "controller": {
    "K": [],
    "L": [],
    "gamma": null,
    "order": null
  },
  "fixed_point": {
    "enabled": true,
    "word_length": 32,
    "frac_length": 28,
    "saturation": true,
    "rounding": "nearest_even",
    "scaling": {
      "x_scale": [
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0
      ],
      "u_scale": [
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0,
        1.0
      ],
      "y_scale": [
        1.0,
        1.0,
        1.0,
        1.0,
        1.0
      ]
    }
  }
}
