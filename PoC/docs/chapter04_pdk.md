# 第4章：PDKとファウンドリ選定（AITLと物理整合）

## 🎯 本章の目的

PoC設計においては、動作確認や物理整合を意識したPDK（Process Design Kit）とファウンドリの選定が重要です。本章では、AITLの設計構造を支える物理層との整合性を確保する観点から、PDK選定とファウンドリ要件を整理します。

---

## 🧰 PDKとは何か

PDK（Process Design Kit）は、特定の製造プロセスに対応する以下の設計支援データ群を含みます：

- デバイスモデル（SPICEレベル）
- DRC/LVSルールファイル
- レイアウトテンプレート
- シンボルライブラリ（回路図エディタ用）

PDKは、物理層（AITLの実行層）と設計層（FSM、PID）の整合を担保する重要な接続点となります。

---

## 🏭 ファウンドリ選定の要点

| 観点             | 内容                                         |
|------------------|----------------------------------------------|
| プロセス互換性   | 180nm/130nm/90nm 等のノードに適応可能か       |
| IP提供の有無     | UART, ADC, PWM等の基本IPの提供有無           |
| ドキュメント整備 | PDKマニュアルやDRCルールの可読性・整合性     |
| オープン性       | Sky130のようなOSS PDKの利用可否              |
| PoC実装実績      | 類似構成での実装実績があるか                 |

---

## 🔗 AITLとPDKの関係

| AITL層     | 物理整合に必要な要素                    |
|------------|-------------------------------------------|
| 本能（FSM） | 論理ゲートレベルがPDK論理ライブラリと一致 |
| 理性（PID） | 数値演算系がレイアウトで収まる規模か     |
| 実行層     | トランジスタ構成がPDKモデルと一致         |

---

## 🧪 Sky130を使う理由（教育向けPDK）

AITL-H PoCではSkywater Sky130 PDKを主に使用します。理由は以下の通りです：

- オープンソースで誰でも利用可能
- DRC/LVS/SPICEモデル完備
- OpenLaneによる自動デジタルフローに対応
- 商用PDKに近い設計体験を得られる

```text
sky130_fd_pr__nfet_01v8
sky130_fd_pr__pfet_01v8
sky130_fd_io__vccd_lvc
```

## 🧭 Sky130設計での注意点（PoC視点）

- チャンネル長：最小130nmだが、PoCでは0.18µm程度の設計も視野に入れる  
- レイアウト制約：nwell/pwell配置、距離、メタル制限に注意  
- アナログIF回路との混載時はシールドレイヤ設計が必要

---

## 📄 PDK選定とPoC設計の整合ステップ

1. **PoCの仕様確定**（FSM, PID, IF構成）  
2. **必要ブロックの回路規模確認**（NAND, FF, ADC等）  
3. **Sky130 PDKでの実装可能性を評価**  
4. **必要に応じてPDK内セルやSPICEモデルを抽出**  
5. **OpenLaneやMagicで物理整合チェック**

---

## 📬 連絡先

執筆・設計：**三溝 真一（Shinichi Samizo）**  
GitHub: [https://github.com/Samizo-AITL](https://github.com/Samizo-AITL)  
Email: shin3t72@gmail.com

