# 🧾 PID制御設計ノート – AITL-Hプロジェクト向け実装指針

このドキュメントは、AITL-H における PID/H∞制御の設計・調整・応用に関する設計ノートです。物理層制御の品質確保と安定性向上のために、以下の観点でまとめています。

---

## 🧪 1. PIDパラメータ調整の基本指針

| パラメータ | 説明                             | 調整効果 |
|------------|----------------------------------|----------|
| Kp         | 比例ゲイン（誤差の即応性）       | 応答速度↑、振動↑ |
| Ki         | 積分ゲイン（定常誤差除去）       | 誤差除去↑、安定性↓ |
| Kd         | 微分ゲイン（変化抑制）           | オーバーシュート↓、ノイズ影響↑ |

---

## 🧪 2. 初期設計パラメータの目安

以下のような「近似モデル」が得られている場合、Ziegler-Nichols法を初期値として利用できます。

例：1次遅れ＋死時間系

\[
G(s) = \frac{K}{T s + 1} \cdot e^{-Ls}
\]

Ziegler-Nicholsから得られる初期パラメータ：

| タイプ | Kp | Ki | Kd |
|--------|----|----|----|
| P      | 1.0 | –  | –  |
| PI     | 0.9 | 1.2/T | – |
| PID    | 1.2 | 2.0/T | 0.5·T |

※ T, Lは近似モデルから取得

---

## 🧪 3. 実験的パラメータ調整法

- **ステップ応答観察法**：初期応答を見て、オーバーシュート・立ち上がり時間・定常誤差をチェック
- **ゲインスケジューリング**：入力範囲や動作モードでPID値を切り替える
- **Ziegler-Nichols実験法**：Kpを上げながら振動点を探し、Ki/Kdを係数で設定

---

## 🧪 4. H∞制御設計の補足

H∞制御では、以下のLTIモデルをベースにする設計が一般的です：

\[
\dot{x} = A x + B u,\quad y = C x + D u
\]

設計フロー（簡略）：

1. LTIモデル行列A,B,C,Dを定義
2. 重み付き出力誤差と入力ノルムの比（H∞ノルム）を最小化
3. `scipy.signal` または `control` パッケージを利用して応答をシミュレーション

---

## 🔍 5. 応答指標の評価ポイント

| 評価項目 | 目的                       |
|----------|----------------------------|
| 上昇時間 | 応答速度の指標             |
| オーバーシュート | 過渡振動の抑制           |
| 定常誤差 | 精度指標（Ki効果）         |
| 安定マージン | 耐外乱性・H∞設計の効果    |

---

## 📦 6. AITL-Hプロジェクトにおける実装例

| 応用箇所 | 制御対象 | PID/H∞役割 |
|----------|----------|------------|
| 関節制御 | モータ角度・速度 | PID |
| 冷却制御 | ファン回転数 | PID or H∞ |
| 姿勢制御 | IMU姿勢角 | H∞推奨 |
| 衝突回避 | 距離センサ応答 | PID＋FSM連携 |

---

## 📬 連絡先

技術監修・制御設計：**三溝 真一（Shinichi Samizo）**  
GitHub: [Samizo-AITL](https://github.com/Samizo-AITL)  
Email: shin3t72@gmail.com

---
