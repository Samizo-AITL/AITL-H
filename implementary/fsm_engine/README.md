# 🔄 FSMエンジン – AITL-H 制御層の実装中核

本フォルダでは、AITL-H 構想における **FSM（有限状態機械）制御エンジン**の実装コードと設定ファイルを提供します。  
LLM（高次判断）とPID（物理制御）との**中間制御層**として、ロボットの状態遷移を構造的に制御します。

---

## 🧩 機能概要

- `fsm_engine.py`：FSM本体のエンジン。状態の更新、入力受付、出力処理を統括。
- `fsm_state_def.yaml`：状態定義および遷移条件を記述した設定ファイル。
- `fsm_simulator.ipynb`：FSMの挙動をJupyter上で可視化・検証できるインタラクティブノートブック。

---

## 🏗 想定構成図
```
+—————–+
| LLM Interface   | ← プロンプトから意図を抽出
+––––+––––+
|
v
+––––+––––+
|  FSM Engine     | ← 状態更新・遷移制御
+––––+––––+
|
v
+––––+––––+
|  PID Controller | ← 物理デバイスへの出力生成
+—————–+
```
---

## 🔧 実装ファイル一覧

| ファイル名 | 説明 |
|------------|------|
| `fsm_engine.py` | 状態管理と遷移ロジック本体 |
| `fsm_state_def.yaml` | 状態・入力・出力・遷移定義（YAML形式） |
| `fsm_simulator.ipynb` | FSMシミュレーションおよび可視化ツール |
| `test_fsm.py` | 単体テスト用スクリプト（pytest想定） |

---

## 📌 状態定義ファイル構造（例）

```yaml
states:
  - name: IDLE
    on_input:
      start: STANDUP

  - name: STANDUP
    on_input:
      complete: WALK

  - name: WALK
    on_input:
      stop: IDLE
```

---

## 🚀 今後の展開予定
	•	階層型FSM（HFSM）対応
	•	LLMからの動的状態定義生成（例：プロンプトベースyaml更新）
	•	複数FSMの協調動作管理（マルチエージェント制御）

---

## ✍️ 制作者より

FSMは単なる状態制御ロジックではなく、構造的知性と物理制御をつなぐ中核モジュールです。
本フォルダの実装が、教育用途から実装PoCまで活用されることを目指しています。

---
