# 🤖 interaction_scenario.md – LLM対話シナリオとFSMコマンド展開

本ドキュメントでは、AITL-H PoCにおいて LLM（知性層）がFSM（本能層）に命令を出す際の対話形式と、
その背後で送信されるコマンド（UART経由）について記述します。

---

## 1. 🎯 シナリオ概要

AITL-Hでは、LLMによって生成された命令（自然言語）がUARTを通じてFSMへ伝達され、状態遷移と制御出力を決定します。  
ここでは、PoCで想定する基本的な制御シナリオと命令例を示します。

---

## 2. 🧾 コマンド一覧（FSMイベント）

| コマンド | 説明 |
|----------|------|
| `start` | 移動を開始する（idle → move） |
| `stop` | 停止する（move → idle） |
| `obstacle_detected` | 障害物を検出した状態へ遷移 |
| `cleared` | 障害物が除去され通常行動に戻る |
| `turn_left` | 左旋回状態へ移行 |
| `turn_right` | 右旋回状態へ移行 |

---

## 3. 💬 LLM発話とUART送信コマンド（例）

| LLM発話例 | UART送信コマンド（FSM入力） |
|-----------|------------------------------|
| 「前に進んで」 | `start` |
| 「止まって」 | `stop` |
| 「障害物があります」 | `obstacle_detected` |
| 「道が開けました」 | `cleared` |
| 「左に曲がって」 | `turn_left` |
| 「右に曲がって」 | `turn_right` |

---

## 4. 🔧 今後の拡張

- センサ値と組み合わせてFSMへ自動遷移トリガを構成（例：距離閾値で `obstacle_detected`）
- LLMによる連続的対話のスクリプト化（例：「少し前に進んでから止まって」など）
- シナリオ自動評価のためのログ比較機構との連携

---

## 📁 このファイルの目的

PoC実行者やLLM連携側が、FSMへの**正しい命令パターン**を把握・設計できるようにするためのガイドです。
UART経由で送られる文字列コマンドは、本シナリオに沿って設計・検証されることを推奨します。
