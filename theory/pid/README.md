# ⚙️ PID制御理論 – 安定と応答を支える物理層の中核

本フォルダでは、AITL-H における**物理層制御**の基盤となる **PID制御**およびその拡張（H∞制御等）について扱います。

---

## 🧠 PID制御とは

PID制御（Proportional–Integral–Derivative）は、**目標値（Setpoint）と実測値の差（偏差）**に基づいて制御量を決定する手法です。

\[
u(t) = K_p e(t) + K_i \int e(t) dt + K_d \frac{de(t)}{dt}
\]

| 成分   | 役割                           |
|--------|--------------------------------|
| P項    | 偏差の大きさに比例した即応性   |
| I項    | 偏差の積分による定常誤差除去   |
| D項    | 偏差の変化率による先読み抑制   |

---

## 📍 AITL-H における役割

AITL-H の**第1層（物理層）**では、以下のようなアクチュエータ制御にPIDを適用します：

- 関節モータの角度・速度制御
- ファン回転数・温度制御
- 姿勢安定化（IMUフィードバック）
- 抵抗変化・ストローク長などの物理量制御

FSMやLLMからの指令に対して、**正確かつ安定した応答を生成する責任層**です。

---

## 🔧 発展：H∞制御との関係

AITL-Hでは、環境変動や外乱の影響を考慮し、以下の高度制御理論も視野に入れます：

| 制御法 | 特徴                                     | 用途例                        |
|--------|------------------------------------------|-------------------------------|
| PID    | 単純・広範囲に適用可能                   | 多くのアクチュエータ制御     |
| H∞制御 | 外乱に対するロバスト性に優れる           | 揺れ抑制、重心安定、耐故障制御 |

---

## 📂 構成ファイル（予定）

- `pid_controller.py`：PID制御クラス（制御パラメータ、誤差処理）
- `hinf_controller.py`：H∞制御の簡易実装（LTIモデルベース）
- `simulation_notebook.ipynb`：制御応答シミュレーション（時系列プロット）
- `docs/pid_design_notes.md`：パラメータ調整法、オーバーシュート防止設計など

---

## 🚀 拡張トピック

- **自動ゲイン調整（Ziegler-Nichols、MRAC）**
- **多入力多出力（MIMO）系への拡張**
- **センサノイズ・量子化誤差に対する対策**

---

## ✍️ 制作者より

AITL-Hでは、制御の「安定性」と「滑らかさ」は最も基本的な要件です。  
人間のような自然な動きや応答性を支えるために、物理層には確かな制御理論が必要です。

FSMやLLMとの接続においても、**PIDは最終出力の品質保証者**として機能します。

---
